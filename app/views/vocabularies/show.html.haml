- provide :body_id, "show_vocabulary"
- provide :title, @vocabulary.name

.btn-group.float-right{role: "group"}
  - if policy(@vocabulary).edit?
    -# Edit button
    %button.btn.btn-light.edit-vocabulary{"data-target":        "#edit-vocabulary-modal",
                                          "data-toggle":        "modal",
                                          "data-vocabulary-id": @vocabulary.id,
                                          type:                 "button"}
      %i.fa.fa-pencil-alt
      Edit
  - if policy(@vocabulary).destroy?
    -# Delete button
    = link_to(vocabulary_path(@vocabulary), class:  "btn btn-danger",
                                            role:   "button",
                                            method: :delete,
                                            data:   { confirm: "Are you sure you want to delete this vocabulary?" }) do
      %i.fa.fa-trash
      Delete

%h1= @vocabulary.name

- if policy(@vocabulary).edit?
  .btn-group.float-right.mb-3{role: "group"}
    -# Add Term button
    %button.btn.btn-light.add-term{"data-target":        "#add-term-modal",
                                   "data-toggle":        "modal",
                                   "data-vocabulary-id": @vocabulary.id,
                                   type:                 "button"}
      %i.fa.fa-plus
      Add Term

%table.table
  %thead
    %th
    %th Displayed Term
    %th Stored Term
  %tbody
    - @vocabulary.vocabulary_terms.order(:displayed_value).each do |term|
      %tr
        %td{style: "width: 1px; white-space: nowrap"}
          .btn-group
            %button.btn.btn-light.btn-sm.edit-term{type:                 "button",
                                                   "data-toggle":        "modal",
                                                   "data-target":        "#edit-term-modal",
                                                   "data-vocabulary-id": @vocabulary.id,
                                                   "data-term-id":       term.id}
              %i.fa.fa-pencil-alt
              Edit
            = link_to(vocabulary_vocabulary_term_path(@vocabulary, term),
                      class: 'btn btn-danger btn-sm',
                      method: :delete,
                      data: { confirm: 'Are you sure you want to delete this term?' }) do
              %i.fa.fa-trash
              Delete
        %td= term.displayed_value
        %td= term.stored_value

= render partial: "shared/ajax_modal",
         locals: { id: "edit-vocabulary-modal", title: "Edit Vocabulary" }
= render partial: "shared/ajax_modal",
         locals: { id: "add-term-modal", title: "Add Term" }
= render partial: "shared/ajax_modal",
         locals: { id: "edit-term-modal", title: "Edit Term" }
