- provide(:body_id, "Messages")

%h1 Messages

- @messages.each do |message|
  .card.mb-3
    .card-body
      .row
        .col-sm-6
          %h4 Request
          %dl
            %dt Sent
            %dd= local_time(message.updated_at)
            %dt Operation
            %dd= message.operation
            - if message.bitstream_id
              %dt Bitstream ID
              %dd= message.bitstream_id
              %dt Item
              %dd= link_to(message.bitstream.item.title, message.bitstream.item)
            - if message.staging_key.present?
              %dt Staging Key
              %dd
                %code= message.staging_key
            - if message.target_key.present?
              %dt Target Key
              %dd
                %code= message.target_key
            %dt Medusa UUID
            %dd= link_to(message.medusa_uuid,  message.medusa_url)
        .col-sm-6
          %h4 Response
          - if message.response_time
            %dl
              %dt Received
              %dd= message.response_time
              %dt Status
              %dd= message.status
              %dt Medusa UUID
              %dd= link_to(message.medusa_uuid,  message.medusa_url)
              %dt Error Text
              %dd= message.error_text
          - else
            %p No response received.