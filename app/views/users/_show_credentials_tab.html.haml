.btn-group.float-end{role: "group"}
  - if @user.identity && policy(@user.identity).edit_password?
    -# Change Local Password button
    %button.btn.btn-light.change-password{"data-identity-id": @user.identity.id,
                                          "data-bs-target":   "#change-password-modal",
                                          "data-bs-toggle":   "modal",
                                          type:               "button"}
      %i.fas.fa-key
      Change Local Password
  - elsif !@user.identity && policy(LocalIdentity).create?
    -# Set Local Password button
    %button.btn.btn-light.create-local-identity{"data-user-id":   @user.id,
                                                "data-bs-target": "#create-local-identity-modal",
                                                "data-bs-toggle": "modal",
                                                type:             "button"}
      %i.fas.fa-key
      Set Local Password

.clearfix

%dl
  %dt Local Password
  %dd
    = boolean(@user.identity, style: :word,
              true_value: "PRESENT", false_value: "NOT SET")

= render partial: "shared/xhr_modal",
         locals: { id: "change-password-modal", title: "Change Local Password" }
= render partial: "shared/xhr_modal",
       locals: { id: "create-local-identity-modal", title: "Set Local Password" }
