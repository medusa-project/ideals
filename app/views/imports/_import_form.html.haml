-# frozen_string_literal: true

= form_for(@import, remote: true) do |f|
  .error-messages
    -# populated via ajax by shared/_validation_messages.js.erb

  = f.hidden_field :institution_id, value: f.object.institution_id

  .alert.alert-light
    = icon_for(:info)
    These menus only affect new items. If you will only be updating existing
    items, then just select any collection.

  .mb-3
    = f.label :unit_id, "Unit"
    = select_tag(:unit_id,
                 options_for_select(unit_tree_options(institution: f.object.institution, include_blank: true), f.object&.collection&.primary_unit&.id),
                 class: "form-select")
  .mb-3
    = f.label :collection_id, "Collection"
    = f.select(:collection_id, [], {}, class: "form-select")

  .clearfix
    .float-end
      %button.btn.btn-light.cancel{"data-bs-dismiss": "modal", type: "button"} Cancel
      = f.submit("Create", class: "btn btn-primary")
