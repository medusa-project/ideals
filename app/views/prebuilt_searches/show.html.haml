- provide :body_id, "show_prebuilt_search"
- provide :title, @prebuilt_search.name

.btn-group.float-end{role: "group"}
  -if policy(@prebuilt_search).edit?
    -# Edit button
    %button.btn.btn-light.edit-prebuilt-search{"data-bs-target": "#edit-prebuilt-search-modal",
                                               "data-bs-toggle": "modal",
                                               "data-id":        @prebuilt_search.id,
                                               type:             "button"}
      %i.fa.fa-pencil-alt
      Edit
  - if policy(@prebuilt_search).destroy?
    -# Delete button
    = link_to(prebuilt_search_path(@prebuilt_search), class:  "btn btn-danger",
                                                      role:   "button",
                                                      method: :delete,
                                                      data:   { confirm: "Are you sure you want to delete this prebuilt search?" }) do
      %i.fa.fa-trash
      Delete

%h1= @prebuilt_search.name

%h2.mt-4 Terms

- if @prebuilt_search.elements.any?
  %dl
    - @prebuilt_search.elements.each do |element|
      %dt= "#{element.registered_element.label}:"
      %dd= element.term
- else
  None

%h2.mt-4 Result Ordering

- if @prebuilt_search.ordering_element
  = @prebuilt_search.ordering_element.label
  = "(#{PrebuiltSearch::OrderingDirection.label(@prebuilt_search.direction).downcase})"
- else
  Unordered

%h2.mt-4
  Link HTML
  %button.btn.btn-sm.btn-outline-primary.copy-search-link
    %i.fa.fa-paste
    Copy

- url = prebuilt_search_redirect_url(@prebuilt_search)
%code.search-link-html
  = "<a href=\"#{url}\">#{@prebuilt_search.name}</a>"

= render partial: "shared/ajax_modal",
         locals: { id: "edit-prebuilt-search-modal",
                   size: :lg,
                   title: "Edit Prebuilt Search" }